<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç’‡ç’‡çš„æ‰‹è¡“æ¢å¾©æ—¥è¨˜</title>
  <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      background-color: #f0f2f5;
      margin: 0;
      padding: 16px;
    }
    
    #root {
      max-width: 500px;
      margin: 0 auto;
    }
    
    .calendar-container {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      padding: 20px;
    }
    
    h1 {
      text-align: center;
      color: #1877f2;
      margin-top: 0;
    }
    
    .section {
      margin-bottom: 24px;
      padding: 16px;
      background-color: #f9f9f9;
      border-radius: 8px;
    }
    
    .progress-bar-container {
      background-color: #e4e6eb;
      height: 20px;
      border-radius: 10px;
      overflow: hidden;
      margin: 10px 0;
    }
    
    .progress-bar {
      height: 100%;
      background-color: #1877f2;
      transition: width 0.5s ease-in-out;
    }
    
    .milestone {
      padding: 12px;
      margin: 8px 0;
      border-radius: 6px;
      position: relative;
      padding-bottom: 30px;
    }
    
    .milestone.completed {
      background-color: #e6f7e6;
      border-left: 4px solid #42b72a;
    }
    
    .milestone.pending {
      background-color: #f0f2f5;
    }
    
    .delete-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background-color: #ff4d4f;
      color: white;
      border: none;
      border-radius: 4px;
      width: 24px;
      height: 24px;
      font-size: 12px;
      line-height: 1;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0.7;
      transition: opacity 0.2s;
      padding: 0;
    }
    
    .delete-btn:hover {
      opacity: 1;
      background-color: #ff7875;
    }
    
    .form-control {
      margin-bottom: 12px;
      display: flex;
      align-items: center;
    }
    
    .form-control label {
      width: 100px;
      flex-shrink: 0;
    }
    
    .form-control input {
      flex-grow: 1;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    
    button {
      width: 100%;
      background-color: #1877f2;
      color: white;
      border: none;
      padding: 10px;
      font-size: 16px;
      border-radius: 6px;
      cursor: pointer;
    }
    
    button:hover {
      background-color: #166fe5;
    }
    
    .message-box {
      text-align: center;
      padding: 12px;
      margin-top: 16px;
      background-color: #e8f4fd;
      border-radius: 6px;
      font-style: italic;
      color: #1877f2;
    }

    .custom-milestone {
      background-color: #fff3e0;
      border-left: 4px solid #ffab40;
    }
    
    .custom-milestone.completed {
      background-color: #e6f7e6;
      border-left: 4px solid #42b72a;
    }

    .completed-mark {
      position: absolute;
      bottom: 8px;
      right: 10px;
      color: green;
      font-size: 12px;
    }

    .loading {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 200px;
      font-size: 18px;
      color: #1877f2;
    }

    .spinner {
      border: 4px solid rgba(0, 0, 0, 0.1);
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border-left-color: #1877f2;
      animation: spin 1s linear infinite;
      margin-right: 10px;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState, useEffect } = React;
    
    // åˆå§‹åŒ–Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyDx3EXeSy6vrY9m_AArANRgsiyWzp2rX6s",
      authDomain: "recoverydiary-hsuan.firebaseapp.com",
      databaseURL: "https://recoverydiary-hsuan-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "recoverydiary-hsuan",
      storageBucket: "recoverydiary-hsuan.firebasestorage.app",
      messagingSenderId: "663297223671",
      appId: "1:663297223671:web:02956411967c5ad368dcf2"
    };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    const RecoveryCalendar = () => {
      const [surgeryDate, setSurgeryDate] = useState(new Date().toISOString().split('T')[0]);
      const [recoveryDays, setRecoveryDays] = useState(14);
      const [loading, setLoading] = useState(true);

      const defaultMilestones = [
        { day: 1, title: "æ‰‹è¡“ç¬¬1å¤©", description: "é ­æšˆã€æ²’é£Ÿæ…¾ã€ä¸èƒ½ä¸‹åºŠ", isDefault: true },
        { day: 2, title: "è¡“å¾Œç¬¬2å¤©", description: "è…«è„¹ä¸èˆ’æœã€æŒçºŒå†°æ•·", isDefault: true },
        { day: 3, title: "è¡“å¾Œç¬¬3å¤©", description: "ç¨å¾®æ¶ˆè…«", isDefault: true },
        { day: 7, title: "è¡“å¾Œç¬¬7å¤©", description: "åŸºæœ¬æ¢å¾©", isDefault: true },
        { day: 14, title: "è¡“å¾Œç¬¬14å¤©", description: "å·®ä¸å¤šå¿«å¥½å›‰!!!", isDefault: true }
      ];
      
      const [milestones, setMilestones] = useState(defaultMilestones);
      const [customMilestone, setCustomMilestone] = useState({ day: "", title: "", description: "" });
      const [currentDay, setCurrentDay] = useState(0);
      const [messages, setMessages] = useState([
        "ç’‡ç’‡å¯¶è²åŠ æ²¹~",
        "ä¸é–‹å¿ƒçš„è©±å°±æ‰“çµ¦æˆ‘å§!",
        "æ”¾å¿ƒæ²’äº‹ï¼Œæˆ‘éƒ½åœ¨!",
        "æˆ‘æœƒä¸€ç›´é™ªè‘—ä½ çš„!",
        "è¾›è‹¦äº†ï¼Œä½ æ˜¯æœ€æ£’çš„!",
        "ä»Šå¤©æœƒæ¯”æ˜¨å¤©å¥½ä¸€é»ï¼",
        "å …æŒä½ï¼Œä½ åšå¾—å¾ˆæ£’ï¼",
        "æ¢å¾©æ˜¯ä¸€å€‹éç¨‹ï¼Œæ…¢æ…¢ä¾†~Relax~",
        "æ¯ä¸€å¤©éƒ½æ˜¯å‹åˆ©!",
        "ä¸€å°æ­¥ä¸€å°æ­¥ï¼Œçµ‚é»å°±åœ¨ä¸é è™•!"
      ]);

      // å¾Firebaseè®€å–æ•¸æ“š
      useEffect(() => {
        const calendarRef = database.ref('calendar');
        
        calendarRef.on('value', (snapshot) => {
          const data = snapshot.val();
          if (data) {
            setSurgeryDate(data.surgeryDate || new Date().toISOString().split('T')[0]);
            setRecoveryDays(data.recoveryDays || 14);
            setMilestones(data.milestones || defaultMilestones);
          } else {
            // å¦‚æœå°šæœªæœ‰æ•¸æ“šï¼Œåˆå§‹åŒ–æ•¸æ“š
            calendarRef.set({
              surgeryDate: new Date().toISOString().split('T')[0],
              recoveryDays: 14,
              milestones: defaultMilestones
            });
          }
          setLoading(false);
        });
        
        return () => {
          calendarRef.off(); // çµ„ä»¶å¸è¼‰æ™‚å–æ¶ˆè¨‚é–±
        };
      }, []);

      // æ›´æ–°Firebaseæ•¸æ“š
      const updateFirebase = () => {
        database.ref('calendar').set({
          surgeryDate,
          recoveryDays,
          milestones
        });
      };

      // è™•ç†æ‰‹è¡“æ—¥æœŸè®Šæ›´
      const handleSurgeryDateChange = (e) => {
        const newDate = e.target.value;
        setSurgeryDate(newDate);
        setTimeout(() => {
          database.ref('calendar').update({ surgeryDate: newDate });
        }, 100);
      };

      // è™•ç†æ¢å¾©å¤©æ•¸è®Šæ›´
      const handleRecoveryDaysChange = (e) => {
        const days = parseInt(e.target.value);
        setRecoveryDays(days);
        setTimeout(() => {
          database.ref('calendar').update({ recoveryDays: days });
        }, 100);
      };

      // æ·»åŠ é‡Œç¨‹ç¢‘
      const handleAddMilestone = () => {
        if (customMilestone.day && customMilestone.title) {
          const newMilestones = [...milestones, { 
            day: parseInt(customMilestone.day), 
            title: customMilestone.title, 
            description: customMilestone.description,
            isDefault: false
          }];
          setMilestones(newMilestones);
          setCustomMilestone({ day: "", title: "", description: "" });
          setTimeout(() => {
            database.ref('calendar/milestones').set(newMilestones);
          }, 100);
        }
      };

      // åˆªé™¤é‡Œç¨‹ç¢‘
      const handleDeleteMilestone = (index) => {
        const updatedMilestones = [...milestones];
        updatedMilestones.splice(index, 1);
        setMilestones(updatedMilestones);
        setTimeout(() => {
          database.ref('calendar/milestones').set(updatedMilestones);
        }, 100);
      };

      // è¨ˆç®—ç•¶å‰å¤©æ•¸
      useEffect(() => {
        const calculateCurrentDay = () => {
          const surgery = new Date(surgeryDate);
          const today = new Date();
          const diffTime = Math.abs(today - surgery);
          const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
          setCurrentDay(diffDays);
        };
        
        calculateCurrentDay();
        const timer = setInterval(calculateCurrentDay, 1000 * 60 * 60);
        
        return () => clearInterval(timer);
      }, [surgeryDate]);

      const getRandomMessage = () => {
        const randomIndex = Math.floor(Math.random() * messages.length);
        return messages[randomIndex];
      };

      const recoveryPercentage = Math.min(100, Math.round((currentDay / recoveryDays) * 100));

      if (loading) {
        return (
          <div className="loading">
            <div className="spinner"></div>
            <span>æ•¸æ“šåŠ è¼‰ä¸­...</span>
          </div>
        );
      }

      return (
        <div className="calendar-container">
          <h1>ç’‡ç’‡çš„æ‰‹è¡“æ¢å¾©æ—¥è¨˜</h1>
          
          <div className="section">
            <div className="form-control">
              <label>æ‰‹è¡“æ—¥æœŸï¼š</label>
              <input 
                type="date" 
                value={surgeryDate} 
                onChange={handleSurgeryDateChange}
              />
            </div>
            
            <div className="form-control">
              <label>é è¨ˆæ¢å¾©å¤©æ•¸ï¼š</label>
              <input 
                type="number" 
                value={recoveryDays} 
                onChange={handleRecoveryDaysChange}
                min="1"
              />
            </div>
          </div>
          
          <div className="section">
            <h2>æ¢å¾©é€²åº¦</h2>
            
            <div style={{textAlign: 'center', marginBottom: '10px'}}>
              <span style={{fontSize: '24px', fontWeight: 'bold', color: '#1877f2'}}>{currentDay}</span>
              <span style={{marginLeft: '5px'}}>/ {recoveryDays} å¤©</span>
            </div>
            
            <div className="progress-bar-container">
              <div 
                className="progress-bar"
                style={{ width: `${recoveryPercentage}%` }}
              ></div>
            </div>
            
            <p style={{textAlign: 'center'}}>
              å·²å®Œæˆ {recoveryPercentage}% çš„æ¢å¾©æ­·ç¨‹
            </p>
            
            <div className="message-box">
              {getRandomMessage()}
            </div>
          </div>
          
          <div className="section">
            <h2>æ¢å¾©é‡Œç¨‹ç¢‘</h2>
            
            {milestones
              .sort((a, b) => a.day - b.day)
              .map((milestone, index) => {
                const isCompleted = currentDay >= milestone.day;
                const milestoneClass = milestone.isDefault ? 
                  (isCompleted ? 'milestone completed' : 'milestone pending') : 
                  (isCompleted ? 'milestone custom-milestone completed' : 'milestone custom-milestone');
                
                return (
                  <div key={index} className={milestoneClass}>
                    <div style={{display: 'flex', justifyContent: 'space-between'}}>
                      <span style={{fontWeight: 'bold'}}>ç¬¬ {milestone.day} å¤©</span>
                    </div>
                    <p style={{margin: '5px 0', fontWeight: '500'}}>{milestone.title}</p>
                    <p style={{margin: '5px 0', fontSize: '14px', color: '#666'}}>{milestone.description}</p>
                    
                    <button 
                      className="delete-btn" 
                      onClick={() => handleDeleteMilestone(index)}
                      title="åˆªé™¤æ­¤é‡Œç¨‹ç¢‘"
                    >
                      Ã—
                    </button>
                    {isCompleted && (
                      <span className="completed-mark">âœ“ å·²é”æˆ</span>
                    )}
                  </div>
                );
              })}
          </div>
          
          <div className="section">
            <h2>æ·»åŠ å€‹äººé‡Œç¨‹ç¢‘</h2>
            
            <div className="form-control">
              <label>ç¬¬å¹¾å¤©ï¼š</label>
              <input 
                type="number" 
                value={customMilestone.day} 
                onChange={(e) => setCustomMilestone({...customMilestone, day: e.target.value})}
                min="1"
              />
            </div>
            
            <div className="form-control">
              <label>æ¨™é¡Œï¼š</label>
              <input 
                type="text" 
                value={customMilestone.title} 
                onChange={(e) => setCustomMilestone({...customMilestone, title: e.target.value})}
                placeholder="ä¾‹å¦‚ï¼šå›è¨º"
              />
            </div>
            
            <div className="form-control">
              <label>æè¿°ï¼š</label>
              <input 
                type="text" 
                value={customMilestone.description} 
                onChange={(e) => setCustomMilestone({...customMilestone, description: e.target.value})}
                placeholder="ä¾‹å¦‚ï¼šæª¢æŸ¥å‚·å£æ¢å¾©æƒ…æ³"
              />
            </div>
            
            <button onClick={handleAddMilestone}>
              æ·»åŠ é‡Œç¨‹ç¢‘
            </button>
          </div>
        </div>
        <!-- å°‡é€™æ®µä»£ç¢¼æ·»åŠ åˆ°ä½ çš„ç¶²é ä¸­ï¼Œæ”¾åœ¨æœ€å¾Œä¸€å€‹sectionå¾Œé¢ -->

<div class="section">
  <h2>å°éŠæˆ²å€</h2>
  <p style="text-align: center; margin-bottom: 15px;">æ¢å¾©æœŸé–“ç„¡èŠå—ï¼Ÿè©¦è©¦é€™äº›å°éŠæˆ²å§ï¼</p>
  
  <div id="game-selector" style="margin-bottom: 20px;">
    <button id="memory-btn" class="game-btn" style="width: 48%; margin-right: 4%;">è¨˜æ†¶é…å°</button>
    <button id="guess-btn" class="game-btn" style="width: 48%;">çŒœæ•¸å­—</button>
  </div>
  
  <div id="game-container" style="display: none;">
    <!-- è¨˜æ†¶é…å°éŠæˆ² -->
    <div id="memory-game" style="display: none;">
      <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-bottom: 15px;">
        <div class="memory-card" data-id="1"></div>
        <div class="memory-card" data-id="1"></div>
        <div class="memory-card" data-id="2"></div>
        <div class="memory-card" data-id="2"></div>
        <div class="memory-card" data-id="3"></div>
        <div class="memory-card" data-id="3"></div>
        <div class="memory-card" data-id="4"></div>
        <div class="memory-card" data-id="4"></div>
        <div class="memory-card" data-id="5"></div>
        <div class="memory-card" data-id="5"></div>
        <div class="memory-card" data-id="6"></div>
        <div class="memory-card" data-id="6"></div>
      </div>
      <p id="memory-score" style="text-align: center; font-weight: bold;">å·²ç¿»ç‰Œæ¬¡æ•¸: 0</p>
      <button id="memory-restart" style="width: 100%;">é‡æ–°é–‹å§‹</button>
    </div>
    
    <!-- çŒœæ•¸å­—éŠæˆ² -->
    <div id="guess-game" style="display: none;">
      <p style="text-align: center; margin-bottom: 15px;">æˆ‘å·²ç¶“æƒ³å¥½äº†ä¸€å€‹1åˆ°100ä¹‹é–“çš„æ•¸å­—ï¼ŒçŒœçŒœçœ‹æ˜¯å¤šå°‘ï¼Ÿ</p>
      <div style="display: flex; margin-bottom: 15px;">
        <input type="number" id="guess-input" min="1" max="100" style="flex-grow: 1; margin-right: 10px;" placeholder="è¼¸å…¥1-100çš„æ•¸å­—">
        <button id="guess-submit" style="width: 80px;">çŒœ!</button>
      </div>
      <p id="guess-feedback" style="text-align: center; margin-bottom: 15px; min-height: 24px;"></p>
      <p id="guess-attempts" style="text-align: center; font-weight: bold;">å·²çŒœæ¬¡æ•¸: 0</p>
      <button id="guess-restart" style="width: 100%;">é‡æ–°é–‹å§‹</button>
    </div>
  </div>
</div>

<style>
  .game-btn {
    background-color: #1877f2;
    color: white;
    border: none;
    padding: 10px;
    font-size: 16px;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.2s;
  }
  
  .game-btn:hover {
    background-color: #166fe5;
  }
  
  .memory-card {
    width: 80px;
    height: 80px;
    background-color: #ddd;
    border-radius: 5px;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 24px;
    font-weight: bold;
    color: transparent;
    user-select: none;
    transition: background-color 0.3s, transform 0.3s;
  }
  
  .memory-card:hover {
    background-color: #ccc;
  }
  
  .memory-card.flipped {
    background-color: #bbdefb;
    transform: rotateY(180deg);
    color: #1877f2;
  }
  
  .memory-card.matched {
    background-color: #c8e6c9;
    color: #43a047;
    cursor: default;
  }
  
  #guess-input {
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 16px;
  }
  
  #guess-feedback.correct {
    color: #43a047;
    font-weight: bold;
  }
  
  #guess-feedback.too-high {
    color: #f44336;
  }
  
  #guess-feedback.too-low {
    color: #ff9800;
  }
</style>

<script>
  // è¨˜æ†¶é…å°éŠæˆ²
  function initMemoryGame() {
    const cards = document.querySelectorAll('.memory-card');
    const scoreElement = document.getElementById('memory-score');
    const restartButton = document.getElementById('memory-restart');
    let hasFlippedCard = false;
    let lockBoard = false;
    let firstCard, secondCard;
    let moves = 0;
    let matches = 0;
    
    // è¨­ç½®å¡ç‰‡åœ–æ¡ˆ
    const emojis = ['ğŸ˜Š', 'ğŸŒŸ', 'ğŸ‰', 'ğŸ', 'ğŸ±', 'ğŸŒˆ'];
    cards.forEach(card => {
      const id = card.getAttribute('data-id');
      card.textContent = emojis[id - 1];
    });
    
    // æ´—ç‰Œ
    function shuffle() {
      cards.forEach(card => {
        let randomPos = Math.floor(Math.random() * 12);
        card.style.order = randomPos;
      });
    }
    
    // ç¿»ç‰Œ
    function flipCard() {
      if (lockBoard) return;
      if (this === firstCard) return;
      
      this.classList.add('flipped');
      
      if (!hasFlippedCard) {
        // ç¬¬ä¸€å¼µç‰Œ
        hasFlippedCard = true;
        firstCard = this;
        return;
      }
      
      // ç¬¬äºŒå¼µç‰Œ
      secondCard = this;
      moves++;
      scoreElement.textContent = `å·²ç¿»ç‰Œæ¬¡æ•¸: ${moves}`;
      checkForMatch();
    }
    
    // æª¢æŸ¥é…å°
    function checkForMatch() {
      let isMatch = firstCard.getAttribute('data-id') === secondCard.getAttribute('data-id');
      isMatch ? disableCards() : unflipCards();
    }
    
    // ç¦ç”¨å·²é…å°çš„å¡ç‰‡
    function disableCards() {
      firstCard.classList.add('matched');
      secondCard.classList.add('matched');
      firstCard.removeEventListener('click', flipCard);
      secondCard.removeEventListener('click', flipCard);
      matches++;
      
      if (matches === 6) {
        setTimeout(() => {
          alert(`æ­å–œæ‚¨å®Œæˆäº†è¨˜æ†¶é…å°éŠæˆ²ï¼ç¸½å…±ç¿»ç‰Œ ${moves} æ¬¡ã€‚`);
        }, 500);
      }
      
      resetBoard();
    }
    
    // ç¿»å›æœªé…å°çš„å¡ç‰‡
    function unflipCards() {
      lockBoard = true;
      
      setTimeout(() => {
        firstCard.classList.remove('flipped');
        secondCard.classList.remove('flipped');
        resetBoard();
      }, 1000);
    }
    
    // é‡ç½®æ£‹ç›¤ç‹€æ…‹
    function resetBoard() {
      [hasFlippedCard, lockBoard] = [false, false];
      [firstCard, secondCard] = [null, null];
    }
    
    // é‡æ–°é–‹å§‹éŠæˆ²
    function restartGame() {
      cards.forEach(card => {
        card.classList.remove('flipped', 'matched');
        card.addEventListener('click', flipCard);
      });
      moves = 0;
      matches = 0;
      scoreElement.textContent = `å·²ç¿»ç‰Œæ¬¡æ•¸: ${moves}`;
      resetBoard();
      shuffle();
    }
    
    // åˆå§‹åŒ–
    restartButton.addEventListener('click', restartGame);
    cards.forEach(card => card.addEventListener('click', flipCard));
    shuffle();
  }
  
  // çŒœæ•¸å­—éŠæˆ²
  function initGuessGame() {
    const input = document.getElementById('guess-input');
    const submitButton = document.getElementById('guess-submit');
    const feedbackElement = document.getElementById('guess-feedback');
    const attemptsElement = document.getElementById('guess-attempts');
    const restartButton = document.getElementById('guess-restart');
    let targetNumber;
    let attempts;
    
    // ç”¢ç”Ÿéš¨æ©Ÿç›®æ¨™æ•¸å­—
    function generateNumber() {
      return Math.floor(Math.random() * 100) + 1;
    }
    
    // é‡ç½®éŠæˆ²
    function resetGame() {
      targetNumber = generateNumber();
      attempts = 0;
      attemptsElement.textContent = `å·²çŒœæ¬¡æ•¸: ${attempts}`;
      feedbackElement.textContent = '';
      feedbackElement.className = '';
      input.value = '';
      input.disabled = false;
      submitButton.disabled = false;
    }
    
    // æª¢æŸ¥çŒœæ¸¬
    function checkGuess() {
      const userGuess = parseInt(input.value);
      
      if (isNaN(userGuess) || userGuess < 1 || userGuess > 100) {
        feedbackElement.textContent = 'è«‹è¼¸å…¥1åˆ°100ä¹‹é–“çš„æ•¸å­—ï¼';
        return;
      }
      
      attempts++;
      attemptsElement.textContent = `å·²çŒœæ¬¡æ•¸: ${attempts}`;
      
      if (userGuess === targetNumber) {
        feedbackElement.textContent = `æ­å–œï¼ä½ çŒœå°äº†ï¼Œç­”æ¡ˆå°±æ˜¯ ${targetNumber}ï¼`;
        feedbackElement.className = 'correct';
        input.disabled = true;
        submitButton.disabled = true;
      } else if (userGuess > targetNumber) {
        feedbackElement.textContent = 'å¤ªé«˜äº†ï¼Œå†è©¦ä¸€æ¬¡ï¼';
        feedbackElement.className = 'too-high';
      } else {
        feedbackElement.textContent = 'å¤ªä½äº†ï¼Œå†è©¦ä¸€æ¬¡ï¼';
        feedbackElement.className = 'too-low';
      }
      
      input.value = '';
      input.focus();
    }
    
    // äº‹ä»¶ç›£è½
    submitButton.addEventListener('click', checkGuess);
    input.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        checkGuess();
      }
    });
    restartButton.addEventListener('click', resetGame);
    
    // åˆå§‹åŒ–
    resetGame();
  }
  
  // éŠæˆ²é¸æ“‡åŠŸèƒ½
  window.addEventListener('DOMContentLoaded', function() {
    const memoryButton = document.getElementById('memory-btn');
    const guessButton = document.getElementById('guess-btn');
    const gameContainer = document.getElementById('game-container');
    const memoryGame = document.getElementById('memory-game');
    const guessGame = document.getElementById('guess-game');
    
    memoryButton.addEventListener('click', function() {
      gameContainer.style.display = 'block';
      memoryGame.style.display = 'block';
      guessGame.style.display = 'none';
      initMemoryGame();
    });
    
    guessButton.addEventListener('click', function() {
      gameContainer.style.display = 'block';
      memoryGame.style.display = 'none';
      guessGame.style.display = 'block';
      initGuessGame();
    });
  });
</script>
      );
    };
  
    ReactDOM.render(<RecoveryCalendar />, document.getElementById('root'));
  </script>
</body>
</html>
